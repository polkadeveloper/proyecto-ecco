---
interface Props {
  class?: string
  title: string
  description?: string
}

const { title, description } = Astro.props
---

<article
  class={`
${Astro.props.class}
relative rounded-xl backdrop-blur-md border
 border-black/20 overflow-hidden
 group`}
>
  <!-- Fondo degradado en negro -->
  <div
    class="absolute z-10 bottom-0 top-0 w-full h-full bg-gradient-to-b from-transparent from-35% via-black/50 to-black"
  >
  </div>
  <div class="absolute bottom-2 left-0 z-50 text-white px-2 md:px-3">
    <p class="text-xl md:text-2xl">{title}</p>
    <p class="text-sm text-pretty">{description}</p>
  </div>

  <slot name="image" />
</article>

<style>
  @keyframes move-right {
    from {
      transform: translateX(-40px);
      opacity: 0;
      visibility: hidden;
    }
    to {
      transform: translateX(0px);
      opacity: 1;
      visibility: visible;
    }
  }

  @keyframes move-left {
    from {
      transform: translateX(40px);
      opacity: 0;
      visibility: hidden;
    }
    to {
      transform: translateX(0px);
      opacity: 1;
      visibility: visible;
    }
  }

  @keyframes fade-in {
    from {
      transform: scale(50%);
      opacity: 0;
    }

    to {
      transform: scale(100%);
      opacity: 1;
    }
  }

  @media (width<1024px) {
    .group-left {
      view-timeline-name: --text;
      view-timeline-axis: block;
      animation-timeline: --text;
      animation-name: fade-in;
      animation-range: entry 25% cover 40%;
      animation-fill-mode: both;
      animation-timing-function: linear;
    }

    .group-right {
      view-timeline-name: --text;
      view-timeline-axis: block;
      animation-timeline: --text;
      animation-name: fade-in;
      animation-range: entry 25% cover 40%;
      animation-fill-mode: both;
      animation-timing-function: linear;
    }
  }

  @media (width>=1024px) {
    .group-left {
      view-timeline-name: --text;
      view-timeline-axis: block;
      animation-timeline: --text;
      animation-name: move-right;
      animation-range: entry 25% cover 40%;
      animation-fill-mode: both;
      animation-timing-function: linear;
    }

    .group-right {
      view-timeline-name: --text;
      view-timeline-axis: block;
      animation-timeline: --text;
      animation-name: move-left;
      animation-range: entry 25% cover 40%;
      animation-fill-mode: both;
      animation-timing-function: linear;
    }
  }
</style>
